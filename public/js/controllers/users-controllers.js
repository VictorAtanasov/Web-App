"use strict";var usersController=function(){function e(e){templates.get("register").then(function(t){e.$element().html(t());var n=document.getElementById("tb-email"),r=document.getElementById("tb-password"),s=document.getElementById("tb-userName"),a=document.getElementById("tb-photoUrl"),d=document.getElementById("btn-register"),i=document.getElementById("btn-login"),o=document.getElementById("btn-logout"),u=document.getElementById("emailReg"),c=document.getElementById("passwordReg");i.addEventListener("click",function(t){var s=n.value,a=r.value;firebase.auth().signInWithEmailAndPassword(s,a).then(function(e){return toastr.success("You Are Loged In")},e.redirect("#/home")).catch(function(e){return toastr.error(e.message)})}),d.addEventListener("click",function(e){var t=u.value,n=c.value,r=s.value,d=a.value;firebase.auth().createUserWithEmailAndPassword(t,n).then(function(e){return toastr.success("You Are Registered")}).catch(function(e){return toastr.error(e.message)}),firebase.auth().onAuthStateChanged(function(e){e&&firebase.auth().currentUser.updateProfile({displayName:r,photoURL:d})})}),o.addEventListener("click",function(t){firebase.auth().signOut(),toastr.warning("You are loged out"),e.redirect("#/home")}),firebase.auth().onAuthStateChanged(function(e){e?(o.classList.remove("hidden"),d.classList.add("hidden"),i.classList.add("hidden")):(o.classList.add("hidden"),d.classList.remove("hidden"),i.classList.remove("hidden"))})})}return{register:e}}();