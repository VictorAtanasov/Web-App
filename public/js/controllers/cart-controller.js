"use strict";var cartController=function(){function t(t){function r(){var t=0,r=0,e=0,a=0;for(var n in c){var o=c[n];for(var i in o)"price"==i?t=o[i]:"quantity"==i?r=o[i]:0!=t&&0!=r&&(e=r*t,a+=e,t=0,r=0,e=0)}document.getElementById("totalPrice").innerHTML+=a}function e(){$(".remove").on("click",function(){var t=$(this),r=t.next().html();c.splice(r,1);var e=JSON.stringify(c);localStorage.carty=e,location.reload()})}function a(){$("#search").keypress(function(r){13==r.which&&t.redirect("#/search")})}if(void 0==localStorage.carty)var c=void 0;else{var c=JSON.parse(localStorage.carty);carty({storage:carty.storage.localStorage(),currency:"USD"})}templates.get("cart").then(function(n){t.$element().html(n(c)),r(),e(),a()})}return{cart:t}}();