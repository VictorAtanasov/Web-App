"use strict";var cartController=function(){function r(r){function t(){var r=0,t=0,e=0,a=0;for(var n in c){var o=c[n];for(var i in o)"price"==i?r=o[i]:"quantity"==i?t=o[i]:0!=r&&0!=t&&(e=t*r,a+=e,r=0,t=0,e=0)}document.getElementById("totalPrice").innerHTML+=a}function e(){$(".remove").on("click",function(){var r=$(this),t=r.next().html();c.splice(t,1);var e=JSON.stringify(c);localStorage.carty=e,location.reload()})}function a(){$("#search").keypress(function(t){13==t.which&&(r.redirect("#/search"),$(".navbar-collapse").collapse("hide"))})}if(void 0==localStorage.carty)var c=void 0;else{var c=JSON.parse(localStorage.carty);carty({storage:carty.storage.localStorage(),currency:"USD"})}templates.get("cart").then(function(n){r.$element().html(n(c)),t(),e(),a()})}return{cart:r}}();